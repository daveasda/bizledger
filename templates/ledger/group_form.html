{% extends "ledger/base_ledger.html" %}
{% block ledger_content %}
<div class="bg-white border rounded p-6 max-w-3xl mx-auto">
  <div class="bg-green-600 text-white px-4 py-2 mb-4 font-semibold text-center rounded">{{ title }}</div>

  <form method="post" action="" class="space-y-4 bg-yellow-50 p-6 rounded border">
    {% csrf_token %}
    {% if form.errors %}
    <div class="p-3 rounded border border-red-400 bg-red-50 text-red-800 text-sm">
      <strong>Please fix the errors below:</strong>
      {{ form.non_field_errors }}
      {% for field in form %}{% if field.errors %}<div>{{ field.label }}: {{ field.errors }}</div>{% endif %}{% endfor %}
    </div>
    {% endif %}
    {{ form.non_field_errors }}

    <div>
      <label class="block text-sm font-semibold text-gray-800 mb-1">Name (alias)</label>
      <div class="bg-white border rounded">
        {{ form.name }}
      </div>
      {{ form.name.errors }}
    </div>

    <div class="flex items-start gap-4">
      <div class="flex-1">
        <label class="block text-sm font-semibold text-gray-800 mb-1">Under</label>
        <div class="bg-white border rounded">
          {{ form.parent }}
        </div>
        {{ form.parent.errors }}
      </div>
      <div class="flex items-center gap-2 pt-8">
        {{ form.is_primary }}
        <label for="{{ form.is_primary.id_for_label }}" class="text-sm font-semibold text-gray-800">Primary</label>
      </div>
    </div>

    <div>
      <label class="block text-sm font-semibold text-gray-800 mb-1">Nature of Group</label>
      <div class="bg-white border rounded">
        {{ form.root_type }}
      </div>
      {{ form.root_type.errors }}
    </div>

    <div class="flex items-center gap-2">
      {{ form.behaves_like_subledger }}
      <label for="{{ form.behaves_like_subledger.id_for_label }}" class="text-sm font-semibold text-gray-800">
        Group behaves like a Sub-Ledger
      </label>
      <span class="text-blue-600 font-bold cursor-help" title="Help">?</span>
    </div>
    {{ form.behaves_like_subledger.errors }}

    <div class="flex gap-2 pt-4">
      <button class="px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 font-semibold" type="submit">Accept</button>
      <a href="{% url 'ledger:groups_display' %}" class="px-6 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 font-semibold">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}
